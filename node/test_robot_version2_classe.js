

var USB = require("./usb.js").USB



var tty_xbee = "COM6" // port COM sous Windows (voir chgport))


/***************************************************************************************************/
/********************************************** XBee ***********************************************/
/***************************************************************************************************/

var xbee = new USB(tty_xbee, {
  callback:
    function (s) {
      console.log("USB : " + s)
    }
})

/**************************************************************************************/
/**************************************** test ****************************************/
/**************************************************************************************/

setTimeout(() => {
		xbee.port.write("[[t 1000][mda 200][mga 200]]")
	}, 4000);

	setTimeout(() => {
		xbee.port.write("[[t 1000][mdr 200][mgr 200]]")
	}, 6000);

	setTimeout(() => {
		process.exit(0)
	}, 8000);

		